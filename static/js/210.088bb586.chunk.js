"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[210],{2646:function(n,t,r){r.d(t,{zP:function(){return p},h$:function(){return u},qj:function(){return c},aQ:function(){return s},WB:function(){return d}});var e=r(5861),o=r(4687),a=r.n(o),i=r(1243);i.Z.defaults.baseURL="https://api.themoviedb.org/3/",i.Z.defaults.params={api_key:"eabf3be64fad896cb931bdc5f8933714"};var s=function(){var n=(0,e.Z)(a().mark((function n(t,r){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("trending/movie/".concat(t),{params:{page:r}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t,r){return n.apply(this,arguments)}}(),c=function(){var n=(0,e.Z)(a().mark((function n(t){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("movie/".concat(t));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),u=function(){var n=(0,e.Z)(a().mark((function n(t,r){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("search/movie",{params:{query:t,page:r}});case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t,r){return n.apply(this,arguments)}}(),p=function(){var n=(0,e.Z)(a().mark((function n(t){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("movie/".concat(t,"/credits"));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=(0,e.Z)(a().mark((function n(t){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("movie/".concat(t,"/reviews"));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},3559:function(n,t,r){r.d(t,{Z:function(){return x}});var e,o,a,i=r(168),s=r(7402),c=r(6355),u=s.Z.div(e||(e=(0,i.Z)(["\n  margin-top: 100px;\n  margin-bottom: 50px;\n  text-align: center;\n"]))),p=s.Z.h3(o||(o=(0,i.Z)(["\n  margin-bottom: 50px;\n  font-size: 40px;\n  text-shadow: 2px 3px var(--primary-color);\n"]))),d=(0,s.Z)(c.onh)(a||(a=(0,i.Z)(["\n  width: 130px;\n  height: 130px;\n  color: var(--primary-color);\n"]))),f=r(184),x=function(n){var t=n.message;return(0,f.jsxs)(u,{children:[(0,f.jsx)(p,{children:t}),(0,f.jsx)(d,{})]})}},433:function(n,t,r){r.d(t,{Z:function(){return e.Z}});var e=r(3559)},6434:function(n,t,r){r.d(t,{Z:function(){return s}});var e,o=r(168),a=r(7402).Z.button(e||(e=(0,o.Z)(["\n  margin-top: 80px;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n\n  width: 120px;\n  height: 50px;\n  background: none;\n  border: 3px solid #ffffff;\n  border-radius: 50%;\n  box-shadow: 0px 7px 0px 2px var(--primary-color);\n\n  font-size: 16px;\n  font-weight: 700;\n\n  transition: transform var(--animation), box-shadow var(--animation);\n\n  &:hover {\n    transform: translateY(7px);\n    box-shadow: none;\n  }\n"]))),i=r(184),s=function(n){var t=n.onClick;return(0,i.jsx)(a,{onClick:t,type:"button",children:(0,i.jsx)("span",{children:"Load more"})})}},3476:function(n,t,r){r.d(t,{Z:function(){return s}});var e,o=r(168),a=r(7402).Z.main(e||(e=(0,o.Z)(["\n  position: relative;\n  padding: 40px 40px;\n\n  min-height: 70vh;\n"]))),i=r(184),s=function(n){var t=n.children;return(0,i.jsx)(a,{children:t})}},4723:function(n,t,r){r.d(t,{Z:function(){return j}});var e,o,a,i,s,c,u,p=r(7689),d=r(168),f=r(7402),x=r(1087),l=r(8820),h=f.Z.ul(e||(e=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 30px;\n"]))),v=f.Z.li(o||(o=(0,d.Z)(["\n  position: relative;\n  width: calc((1214px - 90px) / 4);\n  text-align: center;\n  border: 1px solid #ffffff;\n\n  box-shadow: 0px 10px 2px 2px var(--primary-color);\n\n  transition: transform var(--animation), box-shadow var(--animation);\n\n  &:hover {\n    transform: translateY(10px);\n    box-shadow: none;\n  }\n"]))),m=f.Z.div(a||(a=(0,d.Z)(["\n  position: absolute;\n  width: 80px;\n  top: 0px;\n  left: 0px;\n  font-size: 14px;\n  border-right: 1px solid #fff;\n  border-bottom: 1px solid #fff;\n  background-color: var(--primary-bg-color);\n"]))),b=(0,f.Z)(x.rU)(i||(i=(0,d.Z)(["\n  display: block;\n  height: 100%;\n"]))),Z=f.Z.img(s||(s=(0,d.Z)(["\n  width: 100%;\n  height: 418.5px;\n"]))),g=(0,f.Z)(l.ofX)(c||(c=(0,d.Z)(["\n  height: 418.5px;\n  width: 100%;\n  color: var(--primary-color);\n"]))),w=f.Z.h3(u||(u=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 10px;\n  font-size: 16px;\n  height: 60px;\n"]))),y=r(184),j=function(n){var t=n.movies,r=(0,p.TH)(),e="".concat(r.pathname).concat(r.search);return(0,y.jsx)(h,{children:t.map((function(n){var t=n.id,r=n.poster_path,o="https://image.tmdb.org/t/p/w500/".concat(r),a="/movies/".concat(t);return(0,y.jsx)(v,{children:(0,y.jsxs)(b,{to:a,state:{from:e},type:"button",children:[(0,y.jsx)(m,{children:n.release_date}),r?(0,y.jsx)(Z,{src:o,alt:"MoviePoster"}):(0,y.jsx)(g,{}),(0,y.jsx)(w,{children:n.title})]})},t)}))})}},8483:function(n,t,r){r.d(t,{Z:function(){return f}});var e,o,a=r(168),i=r(7402),s=r(9126),c=i.Z.button(e||(e=(0,a.Z)(["\n  position: absolute;\n  right: 70px;\n  bottom: -50px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50px;\n  height: 50px;\n\n  background: none;\n  border: 3px solid #ffffff;\n  border-radius: 50%;\n  box-shadow: 0px 5px 0px 2px var(--primary-color),\n    inset 0px 0px 0px 6px var(--primary-color);\n\n  transition: transform var(--animation), box-shadow var(--animation);\n\n  &:hover {\n    transform: translateY(5px);\n    box-shadow: none;\n  }\n"]))),u=(0,i.Z)(s.FKi)(o||(o=(0,a.Z)(["\n  width: 32px;\n  height: 32px;\n  color: var(--primary-color);\n"]))),p=r(184),d=function(){window.scrollTo({top:0,behavior:"smooth"})},f=function(){return(0,p.jsx)(c,{onClick:d,type:"button",children:(0,p.jsx)(u,{})})}},6210:function(n,t,r){r.r(t),r.d(t,{default:function(){return j}});var e,o,a,i=r(3433),s=r(9439),c=r(2791),u=r(3476),p=r(6445),d=r(168),f=r(7402),x=f.Z.ul(e||(e=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 100px;\n  margin-bottom: 50px;\n"]))),l=f.Z.button(o||(o=(0,d.Z)(["\n  width: 80px;\n  height: 40px;\n  background: none;\n  border: 3px solid #ffffff;\n  border-radius: 50%;\n  box-shadow: 0px 7px 0px 2px var(--primary-color);\n\n  font-size: 14px;\n  font-weight: 700;\n\n  transition: transform var(--animation), box-shadow var(--animation);\n\n  &:hover {\n    transform: translateY(7px);\n    box-shadow: none;\n  }\n"]))),h=r(184),v=function(n){var t=n.handleBtnFilter;return(0,h.jsxs)(x,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(l,{onClick:t,"data-btn-week":!0,children:"By week"})}),(0,h.jsx)("li",{children:(0,h.jsx)(l,{onClick:t,"data-btn-day":!0,children:"By dey"})})]})},m=r(4723),b=r(433),Z=r(6434),g=r(8483),w=f.Z.h1(a||(a=(0,d.Z)(["\n  margin-bottom: 30px;\n\n  text-align: center;\n  font-size: 36px;\n"]))),y=r(2646),j=function(){var n=(0,c.useState)([]),t=(0,s.Z)(n,2),r=t[0],e=t[1],o=(0,c.useState)([]),a=(0,s.Z)(o,2),d=a[0],f=a[1],x=(0,c.useState)([]),l=(0,s.Z)(x,2),j=l[0],k=l[1],_=(0,c.useState)("week"),S=(0,s.Z)(_,2),C=S[0],L=S[1],z=(0,c.useState)("loading"),E=(0,s.Z)(z,2),A=E[0],B=E[1],Y=(0,c.useState)(1),q=(0,s.Z)(Y,2),Q=q[0],F=q[1],T=(0,c.useState)(2),P=(0,s.Z)(T,2),U=P[0],H=P[1],K=(0,c.useState)(0),M=(0,s.Z)(K,2),R=M[0],W=M[1];(0,c.useEffect)((function(){var n=document.querySelector("[data-btn-week]"),t=document.querySelector("[data-btn-day]");"week"===C?(n.classList.add("active-btn"),n.setAttribute("disabled",""),t.classList.remove("active-btn"),t.removeAttribute("disabled")):(t.classList.add("active-btn"),t.setAttribute("disabled",""),n.classList.remove("active-btn"),n.removeAttribute("disabled"))}),[C]),(0,c.useEffect)((function(){(0,y.aQ)("week",1).then((function(n){k(n.data.results),e(n.data.results),B("good")})).catch((function(){k([]),e([]),B("error")})),(0,y.aQ)("day",1).then((function(n){f(n.data.results),B("good")})).catch((function(){f([]),B("error")}))}),[]),(0,c.useEffect)((function(){1!==Q&&(0,y.aQ)(C,Q).then((function(n){H(n.data.total_pages),e((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(n.data.results))})),B("good")})).catch((function(){B("error")}))}),[C,Q]),(0,c.useEffect)((function(){var n=function(){W(window.scrollY)};return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}),[]);return(0,h.jsxs)(u.Z,{children:[(0,h.jsx)(w,{children:"Trending movies"}),(0,h.jsx)(v,{handleBtnFilter:function(n){n.target.hasAttribute("data-btn-week")?(L("week"),e(j)):(L("day"),e(d)),F(1)}}),r&&(0,h.jsx)(m.Z,{movies:r}),"error"===A&&(0,h.jsx)(b.Z,{}),"loading"===A&&(0,h.jsx)(p.Z,{}),"good"===A&&U>Q&&(0,h.jsx)(Z.Z,{onClick:function(){F(Q+1),B("loading")}}),R>=500&&(0,h.jsx)(g.Z,{})]})}}}]);
//# sourceMappingURL=210.088bb586.chunk.js.map